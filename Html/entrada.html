<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  
  <title>Entrada de aluno</title>

</head>
<body>

  <!-- ===== SIDEBAR ===== -->
  <div id="sidebar" class="sidebar">
    <div class="sidebar-header">
      <h2>Menu</h2>
      <span class="close-btn" id="closeSidebar">&times;</span>
    </div>
    <ul class="sidebar-menu">
      <li><a href="#">üè† In√≠cio</a></li>
      <li><a href="#" onclick="Deslogar()">üö™ Sair</a></li>
    </ul>
  </div>

  <div id="overlay" class="overlay"></div>

  
  <!-- ===== HEADER ===== -->
  <header>
          <h1>Controle de Entrada</h1>

<div class="search-box">
  <input type="text" id="searchInput" placeholder="Pesquisar aluno...">
  <button id="searchBtn">
    <img src="../imagens/Lupa.svg" alt="Pesquisar">
  </button>
</div>
<div class="icons">
  <img src="../imagens/iconperfil.svg" alt="Perfil" class="icon perfil" id="perfilBtn">
</div>

  </header>

  <h2>Hist√≥rico de Alunos</h2>

  <!-- ===== BOT√ÉO DE CADASTRO ===== -->


  <div id="cadastroMenu" style="display:none; top:60px; left:20px; background:#fff;
      border:1px solid #ccc; box-shadow:0 2px 8px rgba(0,0,0,0.2);
      padding:20px; z-index:1001; border-radius:8px; position:fixed;">
    <button id="fecharMenuBtn" type="button" style="float:right; margin-bottom:10px;">X</button>
    <form>
      <label>Rm:</label>
      <input type="text" id="Rm" name="Rm"><br><br>
      <button type="button" id="Enviar">Enviar</button>
    </form>
  </div>

  <!-- ===== MODAL DE CONFIRMA√á√ÉO ===== -->
<div id="confirmModal" style="display: none;">
      <!-- <div class="modal-box">
      Conte√∫do preenchido pelo JS
      <button id="confirmBtn">Confirmar</button>
      <button id="cancelBtn">Cancelar</button>
    </div> -->
  </div> 

  <div id="content"></div><br>

   <button id="cadastroBtn">Cadastrar Digital</button>
   <button id="Verificar">Verificar Digital</button>

  <!-- Script do sidebar e menus -->
  <script>
    // ====== SIDEBAR ======
    const sidebar = document.getElementById("sidebar");
    const overlay = document.getElementById("overlay");
    const perfilBtn = document.getElementById("perfilBtn");
    const closeSidebar = document.getElementById("closeSidebar");

    perfilBtn.addEventListener("click", () => {
      sidebar.classList.add("open");
      overlay.classList.add("active");
    });

    closeSidebar.addEventListener("click", () => {
      sidebar.classList.remove("open");
      overlay.classList.remove("active");
    });

    overlay.addEventListener("click", () => {
      sidebar.classList.remove("open");
      overlay.classList.remove("active");
    });

    function Deslogar() {
      alert("Voc√™ foi deslogado!");
      // window.location.href = "login.html"; // redireciona se quiser
    }

    // ====== MENU DE CADASTRO ======
    document.getElementById('cadastroBtn').onclick = function(e) {
      e.stopPropagation();
      var menu = document.getElementById('cadastroMenu');
      menu.style.display = menu.style.display === 'none' ? 'block' : 'none';
    };
    document.getElementById('fecharMenuBtn').onclick = function(e) {
      e.stopPropagation();
      document.getElementById('cadastroMenu').style.display = 'none';
    };
    document.addEventListener('click', function(e) {   
      var menu = document.getElementById('cadastroMenu');
      var btn = document.getElementById('cadastroBtn');
      if (menu.style.display === 'block' && !menu.contains(e.target) && e.target !== btn) {
        menu.style.display = 'none';
      }
    });

    // ===== PESQUISA DE ALUNOS =====
const searchInput = document.getElementById("searchInput");
const searchBtn = document.getElementById("searchBtn");

function filtrarAlunos() {
  let filtro = searchInput.value.toLowerCase();
  const cards = document.querySelectorAll("#content .card");

  cards.forEach(card => {
    const nomeEl = card.querySelector("div:nth-child(2)");
    const rmEl = card.querySelector("div:nth-child(3)");

    const nome = nomeEl ? nomeEl.innerText.toLowerCase() : "";
    const rm = rmEl ? rmEl.innerText.toLowerCase() : "";

    if (nome.includes(filtro) || rm.includes(filtro)) {
      card.parentElement.style.display = "flex"; // mostra <tr> wrapper
    } else {
      card.parentElement.style.display = "none";
    }
  });
}

// Bot√£o de pesquisa
if (searchBtn) {
  searchBtn.addEventListener("click", filtrarAlunos);
}

// Pesquisa em tempo real
if (searchInput) {
  searchInput.addEventListener("keyup", filtrarAlunos);
}

  </script>
  
    <script src="../Script/entrada.js" defer></script>
  <link rel="stylesheet" href="../css/historicoalunos.css">

</body>
</html>
